# How to modify array

## Методы pop/push, shift/unshift

[Очередь](https://ru.wikipedia.org/wiki/Очередь_(программирование)) – один из самых распространённых вариантов применения массива. В области компьютерных наук так называется упорядоченная коллекция элементов, поддерживающая два вида операций:

- `push` добавляет элемент в конец.

- `shift` удаляет элемент в начале, сдвигая очередь, так что второй элемент становится первым.

Массивы поддерживают обе операции.

Существует и другой вариант применения для массивов – структура данных, называемая [стек](https://ru.wikipedia.org/wiki/Стек).

Она поддерживает два вида операций:

- `push` добавляет элемент в конец.

- `pop` удаляет последний элемент.

Таким образом, новые элементы всегда добавляются или удаляются из "конца".

Массивы в JavaScript могут работать и как очередь, и как стек.

В компьютерных науках структура данных, делающая это возможным, называется [двусторонняя очередь](https://ru.wikipedia.org/wiki/Двухсторонняя_очередь).

### Методы, работающие с концом массива

- `arr.pop()` удаляет последний элемент из массива и возвращает его.

- `arr.push(...items)` добавляет элемент в конец массива.

### Методы, работающие с началом массива

- `arr.shift()` удаляет из массива первый элемент и возвращает его.

- `arr.unshift(...items)` добавляет элемент в начало массива.

Методы `push` и `unshift` могут добавлять сразу несколько элементов:

```js
let fruits = ["Яблоко"];

fruits.push("Апельсин", "Груша");
fruits.unshift("Ананас", "Лимон");

// ["Ананас", "Лимон", "Яблоко", "Апельсин", "Груша"]
alert( fruits );
```

## splice

Метод [arr.splice(str)](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/splice) – это универсальный «швейцарский нож» для работы с массивами. Умеет всё: добавлять, удалять и заменять элементы.

Синтаксис:

```js
arr.splice(start[, deleteCount, elem1, ..., elemN])
```

Он изменяет `arr` начиная с индекса `start`: удаляет `deleteCount` элементов и затем вставляет `elem1, ..., elemN` на их место. Возвращает массив из удалённых элементов.

### Отрицательные индексы разрешены

В этом и в других методах массива допускается использование отрицательных индексов. Они определяют позицию с конца массива.

## map

Метод [arr.map](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map) является одним из наиболее полезных и часто используемых.

Он вызывает функцию для каждого элемента массива и возвращает массив результатов выполнения этой функции.

Синтаксис:

```js
let result = arr.map(function(item, index, array) {
  // возвращается новое значение вместо элемента
});
```

## Другие методы

Методы `sort`, `reverse` и `splice` изменяют исходный массив.

Эти методы -- самые используемые, их достаточно в 99% случаев. Но существуют и другие:

- [arr.some(fn)](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/some)/[arr.every(fn)](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/every) проверяет массив.

  Функция `fn` вызывается для каждого элемента массива аналогично `map`. Если какие-либо/все результаты вызовов являются `true`, то метод возвращает `true`, иначе `false`.

  Эти методы ведут себя примерно так же, как операторы `||` и `&&`: если `fn` возвращает истинное значение, `arr.some()` немедленно возвращает `true` и останавливает перебор остальных элементов; если `fn` возвращает ложное значение, `arr.every()` немедленно возвращает `false` и также прекращает перебор остальных элементов.

  Мы можем использовать `every` для сравнения массивов:
  
  ```js
  function arraysEqual(arr1, arr2) {
    return arr1.length === arr2.length && arr1.every((value, index) => value === arr2[index]);
  }

  alert( arraysEqual([1, 2], [1, 2])); // true
  ```

- [arr.fill(value, start, end)](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/fill) -- заполняет массив повторяющимися `value`, начиная с индекса `start` до `end`.

- [arr.copyWithin(target, start, end)](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/copyWithin) -- копирует свои элементы, начиная с позиции `start` и заканчивая `end`, в *себя*, на позицию `target` (перезаписывая существующие).
